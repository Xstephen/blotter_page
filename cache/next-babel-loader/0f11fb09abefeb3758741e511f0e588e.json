{"ast":null,"code":"import \"antd/lib/notification/style/css\";\nimport _notification from \"antd/lib/notification\";\nimport axios from 'axios'; // import { isBroswer } from '@/utils/prerender';\n\nconst domain = '';\n\nfunction parseURL(url) {\n  return domain + url; //   return url == '/api/friends' || url == '/api/menu' || url == '/api/post' || url == '/api/posts' || url == '/api/comments'\n  //     ? domain + url\n  //     : url;\n}\n\nexport const requestAsync = async (method, url, data) => {\n  var r = await axios({\n    method: method,\n    url: parseURL(url),\n    params: data\n  });\n  return r.data;\n};\nexport const requestCallback = (method, url, data, callback) => {\n  axios({\n    method: method,\n    url: parseURL(url),\n    params: data\n  }).then(data => data.data).then(data => callback(data)).catch(err => console.log(err));\n};\nexport const request = async (method, url, data, callback) => {\n  try {\n    var r = await axios({\n      method: method,\n      url: parseURL(url),\n      params: method === 'get' ? data : undefined,\n      data: method === 'post' ? data : undefined\n    });\n  } catch (e) {\n    console.log(e);\n\n    if (typeof document !== 'undefined') {\n      _notification.error({\n        message: '请求发生错误',\n        description: `${e}`\n      });\n    }\n\n    throw e;\n  }\n\n  if (callback) {\n    callback(r.data);\n  }\n\n  return r.data;\n};","map":null,"metadata":{},"sourceType":"module"}