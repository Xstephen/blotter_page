{"ast":null,"code":"function getFirstCharGroup(s) {\n  if (typeof String.prototype.localeCompare === 'undefined') return 0;\n\n  if (s && s.length == 0) {\n    return 0;\n  } //         a b cd e f g h ij kl m n op q rs tuv wx y z\n\n\n  var zh = '阿八嚓哒妸发旮哈讥讥咔垃痳拏噢妑七呥扨它穵穵穵夕丫帀'.split('');\n  var c = s.charCodeAt(0);\n\n  if (c >= 97 && c <= 122) {\n    return c - 97 + 1;\n  } else if (c >= 65 && c <= 90) {\n    return c - 65 + 1;\n  } else {\n    for (var i = 1; i <= 26; ++i) {\n      if (zh[i - 1].localeCompare(s[0], 'zh') <= 0 && s[0].localeCompare(zh[i], 'zh') < 0) {\n        return i;\n      }\n    }\n  }\n\n  return 0;\n}\n\nexport var sortTagsByPinYin = function sortTagsByPinYin(tags) {\n  if (!String.prototype.localeCompare) return tags.sort();\n  var res = [];\n\n  for (var i = 0; i < 27; ++i) {\n    res.push({\n      title: i == 0 ? '#' : String.fromCharCode(i + 65 - 1),\n      tags: []\n    });\n  }\n\n  var l = tags.length;\n\n  for (var i = 0; i < l; ++i) {\n    var tag = tags[i];\n    var group_id = getFirstCharGroup(tag.name);\n    res[group_id].tags.push(tag);\n  }\n\n  for (var i = 0; i < 27; ++i) {\n    res[i].tags.sort(function (a, b) {\n      return a.count == b.count ? 0 : a.count < b.count ? 1 : -1;\n    });\n  }\n\n  return res;\n};","map":null,"metadata":{},"sourceType":"module"}